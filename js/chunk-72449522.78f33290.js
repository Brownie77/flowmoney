(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-72449522"],{"13d5":function(t,e,r){"use strict";var n=r("23e7"),i=r("d58f").left,o=r("a640"),a=r("ae40"),c=o("reduce"),s=a("reduce",{1:0});n({target:"Array",proto:!0,forced:!c||!s},{reduce:function(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},6859:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"page-title"},[r("h3",[t._v("Планирование")]),r("h4",[t._v(t._s(t.info.bill||t.currency("RUB")))])]),t.loading?r("Loader"):t.categories.length?r("section",t._l(t.categories,(function(e){return r("div",{key:e.id},[r("p",[r("strong",[t._v(t._s(e.title))]),t._v(" "+t._s(e.spend)+" из "+t._s(e.limit)+" ")]),r("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.tooltip,expression:"cat.tooltip"}],staticClass:"progress"},[r("div",{staticClass:"determinate",class:[e.progressColor],style:{width:e.progressPercent+"%"}})])])})),0):r("p",{staticClass:"center"},[t._v(" Категорий пока нет."),r("router-link",{attrs:{to:"/categories"}},[t._v("Добавить новую категорию")])],1)],1)},i=[],o=(r("99af"),r("4de4"),r("d81d"),r("13d5"),r("96cf"),r("1da1")),a=r("5530"),c=r("2f62"),s=r("5bb3"),u={name:"planning",metaInfo:function(){return{title:this.$title("Planning")}},data:function(){return{loading:!0,categories:[]}},computed:Object(a["a"])({},Object(c["b"])(["info"])),mounted:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("fetchRecords");case 2:return r=e.sent,e.next=5,t.$store.dispatch("fetchCategories");case 5:n=e.sent,t.categories=n.map((function(t){var e=r.filter((function(e){return e.categoryId===t.id})).filter((function(t){return"outcome"===t.type})).reduce((function(t,e){return t+ +e.amount}),0),n=100*e/t.limit,i=n>100?100:n,o=n<60?"green":n<100?"yellow":"red",c=t.limit-e,u="".concat(c<0?"Превышение на":"Осталось"," ").concat(Object(s["a"])(Math.abs(c)));return Object(a["a"])({},t,{progressPercent:i,progressColor:o,spend:e,tooltip:u})})),t.loading=!1;case 8:case"end":return e.stop()}}),e)})))()}},l=u,d=r("2877"),f=Object(d["a"])(l,n,i,!1,null,null,null);e["default"]=f.exports},d58f:function(t,e,r){var n=r("1c0b"),i=r("7b0b"),o=r("44ad"),a=r("50c4"),c=function(t){return function(e,r,c,s){n(r);var u=i(e),l=o(u),d=a(u.length),f=t?d-1:0,p=t?-1:1;if(c<2)while(1){if(f in l){s=l[f],f+=p;break}if(f+=p,t?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;t?f>=0:d>f;f+=p)f in l&&(s=r(s,l[f],f,u));return s}};t.exports={left:c(!1),right:c(!0)}}}]);
//# sourceMappingURL=chunk-72449522.78f33290.js.map